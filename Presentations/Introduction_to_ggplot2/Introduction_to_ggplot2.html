<!DOCTYPE html>
<html>
  <head>
    <title>Visualization with ggplot2</title>
    <meta charset="utf-8">
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Visualization with ggplot2

---

# Installing the needed packages

A lot of this course makes use of a special group of R packages referred to as the *tidyverse*.  The *tidyverse* is a set of packages that work in harmony with each other because they share a common design. 

To install the *tidyverse* on your machine, run this command from your console. 


```r
install.packages("tidyverse")
```

You won't need to run this command again on this machine. 

--

Open up a new R script in your RStudio window. 

---
# Loading the Package

In order to access any of the functions, we need to first load the library into the R session.  You'll always need to do this first whenever using ggplot. 


```r
library(ggplot2)
```

--

For these practice problems, we're going to make use of a dataset that is built into ggplot called `mpg`.

Use the help feature of RStudio to read about what this data set represents. 

--


```r
?mpg 
```

You can also use RStudio's View() function to get an idea of what is actually in this dataset. 

---
# ggplot2 Basics

**ggplot2** is based on the **grammar of graphics**, the idea that you can build every graph from the same few components:
- a data set
- a set of geoms (visual marks that represent data points)
- a coordinate system

![:scale 70%](3comps.png)

To display the data values, we map variables in the data set to aesthetic properties of the geom like **size**, **color**, and **x**/**y** locations. 

---
# Our first plot

Run the following command in your R Console. 


```r
ggplot(mpg, aes(x=displ,y=hwy)) +
  geom_point()
```

--

![](Introduction_to_ggplot2_files/figure-html/unnamed-chunk-5-1.png)&lt;!-- --&gt;

---
# Structure of a call to ggplot


```r
ggplot(                     )
```

Note that we first called ggplot. 
---
# Structure of a call to ggplot


```r
ggplot(mpg,                 )
```

Note that we first called ggplot.

The first argument is the name of the dataset.

---
# Structure of a call to ggplot


```r
ggplot(mpg,aes(x=displ,y=hwy))
```

Note that we first called ggplot.

The first argument is the name of the dataset.

The second argument is a call to aes()

---
# Aesthetics

Aesthetics are mappings of visual attributes of the graph to variables.  There are many different aesthetics, but the ones we will most commonly use are: 
- x, y
- color, fill
- linetype
- etc.

---
# Structure of a call to ggplot


```r
ggplot(mpg,aes(x=displ,y=hwy)) +
  geom_point()
```

Note that we first called ggplot.

The first argument is the name of the dataset.

The second argument is a call to aes()

We then add a layer to the graph.  Layers are specific types of geoms.

--

Other geoms include: 
- geom_density()
- geom_dotplot()
- geom_histogram()
- geom_bar()
- geom_boxplot()
- etc.

---
class: inverse, center, middle
# You try!

## See if you can construct a scatterplot between the city miles per gallon and the highway miles per gallon in the mpg dataset.

---
# Try another!

## R has a built-in dataset by the name of `faithful`.  View the help file description of the dataset, and use the View() function to inspect it. 

## Construct a scatterplot of eruptions vs waiting

---
# Adding labeling

Using the `labs()` function we can add a layer of labels.

We can create a title and x/y-axis labels quite easily!

```r
ggplot(faithful,aes(x=eruptions,y=waiting)) + 
  geom_point() +
  labs(x="Eruption time in minutes",
       y="Time between eruptions in minutes",
       title="Eruption Time vs Waiting time (in minutes)", 
       caption="based on data from Yellowstone National Park, Wyoming, USA")
```

![](Introduction_to_ggplot2_files/figure-html/unnamed-chunk-10-1.png)&lt;!-- --&gt;

---
# Aesthetic fun

We can map a 3rd dimension onto our scatterplot through use of **color**.


```r
ggplot(mpg,aes(x=displ,y=hwy,color=class)) +
  geom_point()
```

--

![](Introduction_to_ggplot2_files/figure-html/unnamed-chunk-12-1.png)&lt;!-- --&gt;
    </textarea>
<script src="remark-latest.min.js"></script>
<script src="custom.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
